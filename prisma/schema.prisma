generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                      Int         @id @default(autoincrement())
  firstName               String
  lastName                String
  email                   String      @unique
  phoneNumber             String
  totalInvestmentAmount   Float       @default(0)
  investments             Investment[]
  pendingRegistrations    PendingRegistration[]
  createdAt               DateTime    @default(now())
  updatedAt               DateTime    @updatedAt
}

model Investment {
  id               Int      @id @default(autoincrement())
  packageName      String
  investmentAmount Float
  user             User     @relation(fields: [userId], references: [id])
  userId           Int
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model PendingRegistration {
  id               Int      @id @default(autoincrement())
  firstName        String
  lastName         String
  email            String
  phoneNumber      String
  totalAmount      Float
  accountNumber    String
  accountName      String
  bank             String
  selectedPackages Json
  user             User?    @relation(fields: [userId], references: [id])
  userId           Int?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Package {
  id    Int    @id @default(autoincrement())
  name  String
  price Float
}
